PROMPT FOR CREATING A HOST APP WITH NAUTH-REACT

========================================
OBJECTIVE
========================================

Create a complete React application using Vite and TypeScript that functions as a host/demo of the nauth-react package. 
The application must implement and demonstrate ALL authentication and user management functionalities 
available in the package.

========================================
TECHNICAL REQUIREMENTS
========================================

Framework and Tools:
- React 18.3+
- Vite (for build and development)
- TypeScript (strict mode)
- React Router DOM v6+
- Tailwind CSS with dark/light theme
- Package: nauth-react
========================================
PROJECT STRUCTURE
========================================

Create the following folder structure:

/src
  /pages
    - HomePage.tsx (landing page)
    - LoginPage.tsx (login page)
    - RegisterPage.tsx (register page)
    - ForgotPasswordPage.tsx (password recovery)
    - ResetPasswordPage.tsx (password reset)
    - DashboardPage.tsx (protected user area)
    - ProfilePage.tsx (profile and user management)
    - ChangePasswordPage.tsx (password change)
  /components
    - Layout.tsx (main layout with navbar)
    - Navbar.tsx (navigation with user menu)
    - ProtectedRoute.tsx (HOC for protected routes)
    - UserMenu.tsx (dropdown with user options)
    - ThemeToggle.tsx (dark/light mode toggle)
  /lib
    - constants.ts (application constants)
  App.tsx
  main.tsx

========================================
MANDATORY FEATURES
========================================

1. COMPLETE AUTHENTICATION SYSTEM:
   
   a) Login:
      - Login form using LoginForm from nauth-react
      - "Remember me" option
      - Link to "Forgot my password"
      - Link to "Create account"
      - Redirect to dashboard after successful login
      - Error handling (invalid credentials, blocked user, etc)
      - Unconfirmed email verification
   
   b) Register:
      - Registration form using RegisterForm from nauth-react
      - Field validation (email, strong password, password confirmation)
      - Terms and conditions acceptance checkbox
      - Link to privacy policy
      - Redirect after registration (to login or dashboard)
      - Success/error feedback
   
   c) Password Recovery:
      - Form using ForgotPasswordForm from nauth-react
      - Send recovery email
      - Visual success feedback
      - Link to return to login
   
   d) Password Reset:
      - Page with route parameter (/reset-password/:hash)
      - Form using ResetPasswordForm from nauth-react
      - Recovery token validation
      - New password and confirmation
      - Redirect to login after success
   
   e) Password Change:
      - Protected page for logged-in users
      - Form using ChangePasswordForm from nauth-react
      - Current password verification
      - New password and confirmation
      - Automatic logout after successful change

2. USER MANAGEMENT:
   
   a) Dashboard:
      - Protected area (requires authentication)
      - Display logged-in user information
      - Relevant statistics/information
      - Quick links to features
   
   b) User Profile:
      - Display complete user data
      - Avatar/profile picture
      - Name, email, creation date
      - Button to edit profile
      - Button to change password
      - Delete account option (with confirmation)
   
   c) Navigation:
      - Navbar with logo/application name
      - User menu (dropdown) when logged in with:
         * Avatar and name
         * Link to Dashboard
         * Link to Profile
         * Link to Change Password
         * Theme toggle (dark/light)
         * Logout button
      - Login/Register links when not logged in

3. THEMES AND PREFERENCES:
   
   - Implement ThemeProvider from nauth-react
   - Toggle to switch between light/dark mode
   - Theme preference persistence
   - Automatic system theme detection
   - Sun/moon icon to indicate current theme

4. ROUTE PROTECTION:
   
   - Use useProtectedRoute from nauth-react
   - Implement ProtectedRoute wrapper
   - Redirect unauthenticated users to /login
   - Redirect authenticated users trying to access /login to /dashboard
   - Preserve destination URL for redirect after login

5. USER EXPERIENCE:
   
   - Loading states during API calls
   - Visual feedback (toasts/notifications) for:
      * Successful login
      * Successful registration
      * Password changed
      * Recovery email sent
      * Validation errors
      * Server errors
   - Smooth transition animations
   - Responsive design (mobile-first)
   - Accessibility (ARIA labels, keyboard navigation)

========================================
NAUTH CONFIGURATION
========================================

Required providers (App.tsx):

```tsx
import { NAuthProvider, ThemeProvider } from 'nauth-react';
import 'nauth-react/styles';

function App() {
  return (
    <BrowserRouter>
      <ThemeProvider defaultTheme="system">
        <NAuthProvider
          config={{
            apiUrl: import.meta.env.VITE_API_URL,
            enableFingerprinting: true,
            redirectOnUnauthorized: '/login',
            onAuthChange: (user) => {
              console.log('Auth state changed:', user);
            },
          }}
        >
          <AppRoutes />
        </NAuthProvider>
      </ThemeProvider>
    </BrowserRouter>
  );
}
```

Environment Variables (.env):
```
VITE_API_URL=https://your-nauth-api.com
```

========================================
APPLICATION ROUTES
========================================

Implement the following routes:

Public:
- / - HomePage (landing/welcome page)
- /login - LoginPage
- /register - RegisterPage
- /forgot-password - ForgotPasswordPage
- /reset-password/:hash - ResetPasswordPage

Protected (requires authentication):
- /dashboard - DashboardPage
- /profile - ProfilePage
- /change-password - ChangePasswordPage

Fallback:
- * - NotFoundPage (404)

========================================
NAUTH-REACT HOOKS TO USE
========================================

1. useAuth():
   - user: current user data
   - isLoading: loading state
   - isAuthenticated: authentication status
   - login: login function
   - register: register function
   - logout: logout function
   - refreshUser: refresh user data

2. useUser():
   - user: user data
   - updateUser: update data
   - deleteUser: delete account
   - isLoading: loading state

3. useProtectedRoute(options):
   - Automatically protect routes
   - Redirect unauthenticated users
   - Options: redirectTo, onUnauthorized

4. useTheme():
   - theme: current theme ('light' | 'dark' | 'system')
   - setTheme: change theme
   - systemTheme: system theme

========================================
NAUTH-REACT COMPONENTS TO USE
========================================

Form Components:
- LoginForm (with all props: onSuccess, showRememberMe, showForgotPassword, etc)
- RegisterForm (with all props: onSuccess, showTermsCheckbox, termsUrl, etc)
- ForgotPasswordForm (with onSuccess callback)
- ResetPasswordForm (with hash from URL)
- ChangePasswordForm (with success/error callbacks)

UI Components:
- Button (variants: default, outline, ghost, etc)
- Input (with error states, disabled, etc)
- Card (for form containers)
- Avatar (for user photo)
- DropdownMenu (for user menu)

========================================
DESIGN AND STYLING
========================================

1. Layout:
   - Fixed navbar at top
   - Centered container (max-width)
   - Adequate padding for mobile/desktop
   - Optional footer

2. Authentication Pages:
   - Centered forms
   - Card with shadow
   - Maximum 400-500px width
   - Consistent spacing

3. Dashboard and Internal Pages:
   - Optional sidebar or navbar with menu
   - Content area with padding
   - Cards for information
   - Responsive grid

4. Theme:
   - Consistent colors with Tailwind
   - Full dark/light mode support
   - Smooth transitions between themes
   - Adequate contrast for accessibility

========================================
ERROR HANDLING
========================================

Implement handling for:

1. API Errors:
   - 401 Unauthorized (redirect to login)
   - 403 Forbidden (show message)
   - 404 Not Found (page/user not found)
   - 422 Validation Error (show field errors)
   - 500 Server Error (generic message)

2. Validation Errors:
   - Invalid email
   - Weak password
   - Passwords don't match
   - Required fields

3. Authentication Errors:
   - Invalid credentials
   - Unconfirmed email
   - Blocked account
   - Expired token
   - Invalid session

========================================
ADDITIONAL FEATURES (OPTIONAL)
========================================

1. Email Confirmation:
   - Email verification page
   - Resend confirmation email

2. Session History:
   - List active devices/sessions
   - Option to logout from other sessions

3. Advanced Settings:
   - Notification preferences
   - Privacy settings
   - Two-Factor Authentication (if supported by API)

4. Demo Features:
   - Inline documentation
   - Usage examples
   - Components showcase

========================================
PACKAGE.JSON SCRIPTS
========================================

Include the following scripts:
- "dev": "vite" - development server
- "build": "tsc && vite build" - production build
- "preview": "vite preview" - build preview
- "lint": "eslint . --ext ts,tsx" - linting
- "type-check": "tsc --noEmit" - type checking

========================================
DOCUMENTATION
========================================

Create README.md with:
1. Project description
2. Requirements and prerequisites
3. Installation and configuration
4. Environment variables
5. How to run
6. Folder structure
7. Implemented features
8. Screenshots/GIFs (optional)
9. Useful links (API docs, nauth-react docs)

========================================
FINAL DELIVERABLES
========================================

1. Complete and functional source code
2. Vite + TypeScript configuration
3. All pages implemented
4. Full integration with nauth-react
5. Working light/dark themes
6. Protected routes implemented
7. Complete error handling
8. Responsive design
9. README.md with documentation
10. .env.example file
11. Optimized and functional build

========================================
SUCCESS CRITERIA
========================================

✅ User can register successfully
✅ User can login successfully
✅ User can recover password
✅ User can reset password via email
✅ Logged-in user can change password
✅ Logged-in user can access dashboard
✅ Logged-in user can view/edit profile
✅ Logged-in user can logout
✅ Protected routes block unauthorized access
✅ Light/dark themes work correctly
✅ All forms validate correctly
✅ Errors are handled and displayed properly
✅ Interface is responsive on mobile/tablet/desktop
✅ Application is accessible (keyboard navigation, ARIA)
✅ Production build works without errors

========================================
IMPORTANT NOTES
========================================

1. ALWAYS use TypeScript with strict typing
2. Follow React best practices (hooks, functional components)
3. Use React Router v6 for navigation
4. Implement lazy loading for optimization
5. Add loading states to all async operations
6. Use async/await for cleaner code
7. Implement error boundaries to catch errors
8. Keep components small and reusable
9. Use Tailwind CSS for styling (avoid inline CSS)
10. Test all features manually before delivering
11. Make sure the NAuth API is configured and accessible
12. Follow nauth-react code patterns (imports, naming, etc)

========================================
BASIC IMPLEMENTATION EXAMPLE
========================================

LoginPage.tsx:
```tsx
import { LoginForm } from 'nauth-react';
import { useNavigate } from 'react-router-dom';

export function LoginPage() {
  const navigate = useNavigate();

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900">
      <div className="w-full max-w-md">
        <LoginForm
          onSuccess={(user) => {
            console.log('Login successful:', user);
            navigate('/dashboard');
          }}
          showRememberMe={true}
          showForgotPassword={true}
          redirectAfterLogin="/dashboard"
        />
      </div>
    </div>
  );
}
```

DashboardPage.tsx:
```tsx
import { useAuth } from 'nauth-react';
import { Navigate } from 'react-router-dom';

export function DashboardPage() {
  const { user, isAuthenticated, isLoading } = useAuth();

  if (isLoading) return <div>Loading...</div>;
  if (!isAuthenticated) return <Navigate to="/login" />;

  return (
    <div className="container mx-auto py-8">
      <h1 className="text-3xl font-bold">Dashboard</h1>
      <p>Welcome, {user?.name}!</p>
    </div>
  );
}
```

========================================
END OF PROMPT
========================================

This prompt should be used as a complete guide to create a React host application that demonstrates 
all capabilities of the nauth-react package in a professional and functional way.
